(self.webpackChunkpaystell_frontend=self.webpackChunkpaystell_frontend||[]).push([[4744],{"./src/components/ui/alert.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Fc:()=>Alert,TN:()=>AlertDescription,XL:()=>AlertTitle});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/lib/utils.ts");const alertVariants=(0,__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs").F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Alert=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,variant,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,role:"alert",className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(alertVariants({variant}),className),...props}));Alert.displayName="Alert";const AlertTitle=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h5",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("mb-1 font-medium leading-none tracking-tight",className),...props}));AlertTitle.displayName="AlertTitle";const AlertDescription=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("text-sm [&_p]:leading-relaxed",className),...props}));AlertDescription.displayName="AlertDescription",Alert.__docgenInfo={description:"",methods:[],displayName:"Alert",composes:["VariantProps"]},AlertTitle.__docgenInfo={description:"",methods:[],displayName:"AlertTitle"},AlertDescription.__docgenInfo={description:"",methods:[],displayName:"AlertDescription"}},"./src/components/ui/card.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{BT:()=>CardDescription,Wu:()=>CardContent,ZB:()=>CardTitle,Zp:()=>Card,aR:()=>CardHeader,wL:()=>CardFooter});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/lib/utils.ts");const Card=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("rounded-xl bg-card shadow",className),...props}));Card.displayName="Card";const CardHeader=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex flex-col space-y-1.5 p-6",className),...props}));CardHeader.displayName="CardHeader";const CardTitle=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("font-semibold leading-none tracking-tight text-foreground",className),...props}));CardTitle.displayName="CardTitle";const CardDescription=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("text-sm text-card-foreground",className),...props}));CardDescription.displayName="CardDescription";const CardContent=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("p-6 pt-0",className),...props}));CardContent.displayName="CardContent";const CardFooter=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex items-center p-6 pt-0",className),...props}));CardFooter.displayName="CardFooter",Card.__docgenInfo={description:"",methods:[],displayName:"Card"},CardHeader.__docgenInfo={description:"",methods:[],displayName:"CardHeader"},CardFooter.__docgenInfo={description:"",methods:[],displayName:"CardFooter"},CardTitle.__docgenInfo={description:"",methods:[],displayName:"CardTitle"},CardDescription.__docgenInfo={description:"",methods:[],displayName:"CardDescription"},CardContent.__docgenInfo={description:"",methods:[],displayName:"CardContent"}},"./src/components/ui/form.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C5:()=>FormMessage,MJ:()=>FormControl,Rr:()=>FormDescription,eI:()=>FormItem,lR:()=>FormLabel,lV:()=>Form,zB:()=>FormField});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@radix-ui/react-slot/dist/index.mjs"),react_hook_form__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.mjs"),_lib_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/lib/utils.ts"),_components_ui_label__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/ui/label.tsx");const Form=react_hook_form__WEBPACK_IMPORTED_MODULE_3__.Op,FormFieldContext=react__WEBPACK_IMPORTED_MODULE_1__.createContext({}),FormField=({...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FormFieldContext.Provider,{value:{name:props.name},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_hook_form__WEBPACK_IMPORTED_MODULE_3__.xI,{...props})}),useFormField=()=>{const fieldContext=react__WEBPACK_IMPORTED_MODULE_1__.useContext(FormFieldContext),itemContext=react__WEBPACK_IMPORTED_MODULE_1__.useContext(FormItemContext),{getFieldState,formState}=(0,react_hook_form__WEBPACK_IMPORTED_MODULE_3__.xW)(),fieldState=getFieldState(fieldContext.name,formState);if(!fieldContext)throw new Error("useFormField should be used within <FormField>");const{id}=itemContext;return{id,name:fieldContext.name,formItemId:`${id}-form-item`,formDescriptionId:`${id}-form-item-description`,formMessageId:`${id}-form-item-message`,...fieldState}},FormItemContext=react__WEBPACK_IMPORTED_MODULE_1__.createContext({}),FormItem=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,...props},ref)=>{const id=react__WEBPACK_IMPORTED_MODULE_1__.useId();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(FormItemContext.Provider,{value:{id},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)("space-y-2",className),...props})})});FormItem.displayName="FormItem";const FormLabel=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,...props},ref)=>{const{error,formItemId}=useFormField();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_5__.J,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(error&&"text-destructive",className),htmlFor:formItemId,...props})});FormLabel.displayName="FormLabel";const FormControl=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({...props},ref)=>{const{error,formItemId,formDescriptionId,formMessageId}=useFormField();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_2__.DX,{ref,id:formItemId,"aria-describedby":error?`${formDescriptionId} ${formMessageId}`:`${formDescriptionId}`,"aria-invalid":!!error,...props})});FormControl.displayName="FormControl";const FormDescription=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,...props},ref)=>{const{formDescriptionId}=useFormField();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{ref,id:formDescriptionId,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)("text-[0.8rem] text-muted-foreground",className),...props})});FormDescription.displayName="FormDescription";const FormMessage=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,children,...props},ref)=>{const{error,formMessageId}=useFormField();var _error_message;const body=error?String(null!==(_error_message=null==error?void 0:error.message)&&void 0!==_error_message?_error_message:""):children;return body?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{ref,id:formMessageId,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)("text-[0.8rem] font-medium text-destructive",className),...props,children:body}):null});FormMessage.displayName="FormMessage",FormItem.__docgenInfo={description:"",methods:[],displayName:"FormItem"},FormLabel.__docgenInfo={description:"",methods:[],displayName:"FormLabel"},FormControl.__docgenInfo={description:"",methods:[],displayName:"FormControl"},FormDescription.__docgenInfo={description:"",methods:[],displayName:"FormDescription"},FormMessage.__docgenInfo={description:"",methods:[],displayName:"FormMessage"},FormField.__docgenInfo={description:"",methods:[],displayName:"FormField"}},"./src/components/ui/input.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{p:()=>Input});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),class_variance_authority__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs"),_lib_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/lib/utils.ts");const inputVariants=(0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.F)("flex w-full rounded-md border bg-input text-input-foreground px-3 py-2 text-sm ring-offset-background file:border-transparent file:mr-4 file:bg-background file:text-sm file:font-medium placeholder:text-input-foreground focus-visible:outline-none focus-visible:ring-0 focus-visible:border-primary focus-visible:border-2 disabled:cursor-not-allowed disabled:opacity-50 my-1",{variants:{size:{default:"h-10",sm:"h-8 px-2",lg:"h-12 px-4"},variant:{default:"",filled:"border-transparent bg-secondary",outline:"border-2"}},defaultVariants:{size:"default",variant:"default"}}),Input=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,size,variant,type,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(inputVariants({size,variant,className})),ref,...props}));Input.displayName="Input",Input.__docgenInfo={description:"",methods:[],displayName:"Input",composes:["Omit","VariantProps"]}},"./src/components/ui/label.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>Label});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_label__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@radix-ui/react-label/dist/index.mjs"),class_variance_authority__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs"),_lib_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/lib/utils.ts");const labelVariants=(0,class_variance_authority__WEBPACK_IMPORTED_MODULE_3__.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_label__WEBPACK_IMPORTED_MODULE_2__.b,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(labelVariants(),className),...props}));Label.displayName=_radix_ui_react_label__WEBPACK_IMPORTED_MODULE_2__.b.displayName,Label.__docgenInfo={description:"",methods:[]}},"./src/components/ui/separator.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{w:()=>Separator});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_separator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@radix-ui/react-separator/dist/index.mjs"),_lib_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/lib/utils.ts");const Separator=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,orientation="horizontal",decorative=!0,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_separator__WEBPACK_IMPORTED_MODULE_2__.b,{ref,decorative,orientation,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("shrink-0 bg-border","horizontal"===orientation?"h-[1px] w-full":"h-full w-[1px]",className),...props}));Separator.displayName=_radix_ui_react_separator__WEBPACK_IMPORTED_MODULE_2__.b.displayName,Separator.__docgenInfo={description:"",methods:[],props:{orientation:{defaultValue:{value:"'horizontal'",computed:!1},required:!1},decorative:{defaultValue:{value:"true",computed:!1},required:!1}}}},"./src/components/ui/switch.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>Switch});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@radix-ui/react-switch/dist/index.mjs"),_lib_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/lib/utils.ts");const Switch=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_2__.bL,{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",className),...props,ref,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_2__.zi,{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Switch.displayName=_radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_2__.bL.displayName,Switch.__docgenInfo={description:"",methods:[]}},"./src/components/ui/tabs.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Xi:()=>TabsTrigger,av:()=>TabsContent,j7:()=>TabsList,tU:()=>Tabs});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_tabs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@radix-ui/react-tabs/dist/index.mjs"),_lib_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/lib/utils.ts");const Tabs=_radix_ui_react_tabs__WEBPACK_IMPORTED_MODULE_2__.bL,TabsList=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_tabs__WEBPACK_IMPORTED_MODULE_2__.B8,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",className),...props}));TabsList.displayName=_radix_ui_react_tabs__WEBPACK_IMPORTED_MODULE_2__.B8.displayName;const TabsTrigger=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_tabs__WEBPACK_IMPORTED_MODULE_2__.l9,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",className),...props}));TabsTrigger.displayName=_radix_ui_react_tabs__WEBPACK_IMPORTED_MODULE_2__.l9.displayName;const TabsContent=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_tabs__WEBPACK_IMPORTED_MODULE_2__.UC,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",className),...props}));TabsContent.displayName=_radix_ui_react_tabs__WEBPACK_IMPORTED_MODULE_2__.UC.displayName,TabsList.__docgenInfo={description:"",methods:[]},TabsTrigger.__docgenInfo={description:"",methods:[]},TabsContent.__docgenInfo={description:"",methods:[]}},"./src/components/webhooks/WebhookForm.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Create:()=>Create,Edit:()=>Edit,WithValidationErrors:()=>WithValidationErrors,__namedExportsOrder:()=>__namedExportsOrder,default:()=>WebhookForm_stories});var dist=__webpack_require__("./node_modules/@storybook/testing-library/dist/index.mjs"),webhook_types=__webpack_require__("./src/types/webhook-types.ts"),jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.mjs"),zod=__webpack_require__("./node_modules/@hookform/resolvers/zod/dist/zod.mjs"),types=__webpack_require__("./node_modules/zod/v3/types.js"),sonner_dist=__webpack_require__("./node_modules/sonner/dist/index.mjs"),triangle_alert=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/triangle-alert.js"),webhook_utils=__webpack_require__("./src/utils/webhook-utils.ts"),webhook_service=__webpack_require__("./src/services/webhook.service.ts"),card=__webpack_require__("./src/components/ui/card.tsx"),ui_form=__webpack_require__("./src/components/ui/form.tsx"),input=__webpack_require__("./src/components/ui/input.tsx"),ui_button=__webpack_require__("./src/components/ui/button.tsx"),react_checkbox_dist=__webpack_require__("./node_modules/@radix-ui/react-checkbox/dist/index.mjs"),check=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/check.js"),utils=__webpack_require__("./src/lib/utils.ts");const Checkbox=react.forwardRef(({className,...props},ref)=>(0,jsx_runtime.jsx)(react_checkbox_dist.bL,{ref,className:(0,utils.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",className),...props,children:(0,jsx_runtime.jsx)(react_checkbox_dist.C1,{className:(0,utils.cn)("flex items-center justify-center text-current"),children:(0,jsx_runtime.jsx)(check.A,{className:"h-4 w-4"})})}));Checkbox.displayName=react_checkbox_dist.bL.displayName,Checkbox.__docgenInfo={description:"",methods:[]};var ui_switch=__webpack_require__("./src/components/ui/switch.tsx"),tabs=__webpack_require__("./src/components/ui/tabs.tsx"),separator=__webpack_require__("./src/components/ui/separator.tsx"),ui_alert=__webpack_require__("./src/components/ui/alert.tsx"),console=__webpack_require__("./node_modules/console-browserify/index.js");const formSchema=types.Ik({url:types.Yj().url("Please enter a valid URL").refine(url=>(0,webhook_utils.Nl)(url),{message:"Webhook URL must use HTTPS"}),eventTypes:types.YO(types.fc(webhook_types._)).min(1,"Select at least one event type"),secretKey:types.Yj().optional(),maxRetries:types.ai().min(0,"Minimum retries is 0").max(10,"Maximum retries is 10"),initialRetryDelay:types.ai().min(1e3,"Minimum initial delay is 1000ms").max(6e4,"Maximum initial delay is 60000ms"),maxRetryDelay:types.ai().min(1e3,"Minimum max delay is 1000ms").max(864e5,"Maximum max delay is 86400000ms"),isActive:types.zM().default(!0)}).refine(data=>data.maxRetryDelay>=data.initialRetryDelay,{message:"Maximum retry delay must be greater than or equal to the initial delay",path:["maxRetryDelay"]}),WebhookForm=({webhook,onSuccess})=>{const[testingWebhook,setTestingWebhook]=(0,react.useState)(!1),[isSubmitting,setIsSubmitting]=(0,react.useState)(!1),[selectedTab,setSelectedTab]=(0,react.useState)("basic"),[showSecretWarning,setShowSecretWarning]=(0,react.useState)(!1),isEditMode=Boolean(webhook);var _webhook_isActive;const defaultValues={url:(null==webhook?void 0:webhook.url)||"",eventTypes:(null==webhook?void 0:webhook.eventTypes)||[],secretKey:(null==webhook?void 0:webhook.secretKey)||"",maxRetries:(null==webhook?void 0:webhook.maxRetries)||3,initialRetryDelay:(null==webhook?void 0:webhook.initialRetryDelay)||5e3,maxRetryDelay:(null==webhook?void 0:webhook.maxRetryDelay)||6e5,isActive:null===(_webhook_isActive=null==webhook?void 0:webhook.isActive)||void 0===_webhook_isActive||_webhook_isActive},form=(0,index_esm.mN)({resolver:(0,zod.u)(formSchema),defaultValues}),handleGenerateSecret=()=>{const newSecret=(0,webhook_utils.Bq)();form.setValue("secretKey",newSecret),setShowSecretWarning(!0)},secretKeyChanged=form.watch("secretKey")!==defaultValues.secretKey;return(0,jsx_runtime.jsxs)(card.Zp,{className:"w-full",children:[(0,jsx_runtime.jsxs)(card.aR,{children:[(0,jsx_runtime.jsx)(card.ZB,{children:isEditMode?"Edit Webhook":"Create Webhook"}),(0,jsx_runtime.jsx)(card.BT,{children:"Configure how PayStell sends webhook events to your server"})]}),(0,jsx_runtime.jsx)(card.Wu,{children:(0,jsx_runtime.jsx)(ui_form.lV,{...form,children:(0,jsx_runtime.jsxs)("form",{onSubmit:form.handleSubmit(async data=>{try{setIsSubmitting(!0),isEditMode&&webhook?(await(0,webhook_service.Xz)(webhook.id,data),sonner_dist.oR.success("Webhook updated successfully")):(await(0,webhook_service.OB)(data),sonner_dist.oR.success("Webhook created successfully"),data.secretKey&&sonner_dist.oR.warning("Please save your webhook secret key as it will not be fully visible again")),onSuccess()}catch(error){console.error("Error saving webhook:",error),sonner_dist.oR.error("Failed to save webhook")}finally{setIsSubmitting(!1)}}),className:"space-y-6",children:[(0,jsx_runtime.jsxs)(tabs.tU,{value:selectedTab,onValueChange:setSelectedTab,children:[(0,jsx_runtime.jsxs)(tabs.j7,{className:"grid w-full grid-cols-2",children:[(0,jsx_runtime.jsx)(tabs.Xi,{value:"basic",children:"Basic Configuration"}),(0,jsx_runtime.jsx)(tabs.Xi,{value:"advanced",children:"Advanced Settings"})]}),(0,jsx_runtime.jsxs)(tabs.av,{value:"basic",className:"space-y-4 mt-4",children:[(0,jsx_runtime.jsx)(ui_form.zB,{control:form.control,name:"url",render:({field})=>(0,jsx_runtime.jsxs)(ui_form.eI,{children:[(0,jsx_runtime.jsx)(ui_form.lR,{children:"Webhook URL"}),(0,jsx_runtime.jsx)(ui_form.MJ,{children:(0,jsx_runtime.jsx)(input.p,{placeholder:"https://example.com/webhook",...field})}),(0,jsx_runtime.jsx)(ui_form.Rr,{children:"The HTTPS URL where PayStell will send webhook events"}),(0,jsx_runtime.jsx)(ui_form.C5,{})]})}),(0,jsx_runtime.jsx)(ui_form.zB,{control:form.control,name:"secretKey",render:({field})=>(0,jsx_runtime.jsxs)(ui_form.eI,{children:[(0,jsx_runtime.jsx)(ui_form.lR,{children:"Secret Key"}),(0,jsx_runtime.jsxs)("div",{className:"flex space-x-2",children:[(0,jsx_runtime.jsx)(ui_form.MJ,{children:(0,jsx_runtime.jsx)(input.p,{placeholder:isEditMode?"Leave blank to keep current secret":"Webhook secret for signature verification",type:secretKeyChanged||!isEditMode?"text":"password",...field,onChange:e=>{field.onChange(e),e.target.value&&setShowSecretWarning(!0)}})}),(0,jsx_runtime.jsx)(ui_button.$,{type:"button",variant:"outline",onClick:handleGenerateSecret,children:"Generate"})]}),(0,jsx_runtime.jsx)(ui_form.Rr,{children:"Used to verify the webhook signature in the X-PayStell-Signature header"}),showSecretWarning&&(0,jsx_runtime.jsxs)(ui_alert.Fc,{variant:"destructive",className:"mt-2",children:[(0,jsx_runtime.jsx)(triangle_alert.A,{className:"h-4 w-4"}),(0,jsx_runtime.jsx)(ui_alert.TN,{children:"Warning: Your webhook secret key will be partially masked after creation and cannot be retrieved in full later. Please store it securely now if needed."})]}),isEditMode&&!secretKeyChanged&&(0,jsx_runtime.jsx)(ui_form.Rr,{className:"mt-2 text-amber-600",children:"The secret key is masked for security. Enter a new value only if you want to change it."}),(0,jsx_runtime.jsx)(ui_form.C5,{})]})}),(0,jsx_runtime.jsx)(ui_form.zB,{control:form.control,name:"isActive",render:({field})=>(0,jsx_runtime.jsxs)(ui_form.eI,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[(0,jsx_runtime.jsxs)("div",{className:"space-y-0.5",children:[(0,jsx_runtime.jsx)(ui_form.lR,{className:"text-base",children:"Active"}),(0,jsx_runtime.jsx)(ui_form.Rr,{children:"Enable or disable this webhook"})]}),(0,jsx_runtime.jsx)(ui_form.MJ,{children:(0,jsx_runtime.jsx)(ui_switch.d,{checked:field.value,onCheckedChange:field.onChange})})]})})]}),(0,jsx_runtime.jsx)(tabs.av,{value:"advanced",className:"space-y-4 mt-4",children:(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsx)("h3",{className:"text-lg font-medium",children:"Retry Configuration"}),(0,jsx_runtime.jsx)("p",{className:"text-sm text-gray-500",children:"Configure how PayStell retries failed webhook deliveries"}),(0,jsx_runtime.jsx)(ui_form.zB,{control:form.control,name:"maxRetries",render:({field})=>{var _field_value;return(0,jsx_runtime.jsxs)(ui_form.eI,{children:[(0,jsx_runtime.jsx)(ui_form.lR,{children:"Maximum Retry Attempts"}),(0,jsx_runtime.jsx)(ui_form.MJ,{children:(0,jsx_runtime.jsx)(input.p,{type:"number",...field,onChange:e=>{const val=e.currentTarget.valueAsNumber;field.onChange(Number.isNaN(val)?void 0:val)},value:null!==(_field_value=field.value)&&void 0!==_field_value?_field_value:""})}),(0,jsx_runtime.jsx)(ui_form.Rr,{children:"Number of times to retry delivering the webhook (0-10)"}),(0,jsx_runtime.jsx)(ui_form.C5,{})]})}}),(0,jsx_runtime.jsx)(ui_form.zB,{control:form.control,name:"initialRetryDelay",render:({field})=>{var _field_value;return(0,jsx_runtime.jsxs)(ui_form.eI,{children:[(0,jsx_runtime.jsx)(ui_form.lR,{children:"Initial Retry Delay (ms)"}),(0,jsx_runtime.jsx)(ui_form.MJ,{children:(0,jsx_runtime.jsx)(input.p,{type:"number",...field,onChange:e=>{const val=e.currentTarget.valueAsNumber;field.onChange(Number.isNaN(val)?void 0:val)},value:null!==(_field_value=field.value)&&void 0!==_field_value?_field_value:""})}),(0,jsx_runtime.jsx)(ui_form.Rr,{children:"Initial delay before first retry (milliseconds)"}),(0,jsx_runtime.jsx)(ui_form.C5,{})]})}}),(0,jsx_runtime.jsx)(ui_form.zB,{control:form.control,name:"maxRetryDelay",render:({field})=>{var _field_value;return(0,jsx_runtime.jsxs)(ui_form.eI,{children:[(0,jsx_runtime.jsx)(ui_form.lR,{children:"Maximum Retry Delay (ms)"}),(0,jsx_runtime.jsx)(ui_form.MJ,{children:(0,jsx_runtime.jsx)(input.p,{type:"number",...field,onChange:e=>{const val=e.currentTarget.valueAsNumber;field.onChange(Number.isNaN(val)?void 0:val)},value:null!==(_field_value=field.value)&&void 0!==_field_value?_field_value:""})}),(0,jsx_runtime.jsx)(ui_form.Rr,{children:"Maximum delay between retries (milliseconds)"}),(0,jsx_runtime.jsx)(ui_form.C5,{})]})}})]})})]}),(0,jsx_runtime.jsx)(separator.w,{}),(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsx)("h3",{className:"text-lg font-medium",children:"Webhook Events"}),(0,jsx_runtime.jsx)("p",{className:"text-sm text-gray-500",children:"Select which events should trigger this webhook"}),(0,jsx_runtime.jsx)(ui_form.zB,{control:form.control,name:"eventTypes",render:()=>(0,jsx_runtime.jsxs)(ui_form.eI,{children:[webhook_utils.ML.map(category=>(0,jsx_runtime.jsxs)("div",{className:"mb-4",children:[(0,jsx_runtime.jsx)("h4",{className:"text-sm font-medium mb-2",children:category.name}),(0,jsx_runtime.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:(0,webhook_utils.Jt)(category.name).map(type=>(0,jsx_runtime.jsx)(ui_form.zB,{control:form.control,name:"eventTypes",render:({field})=>{var _field_value;return(0,jsx_runtime.jsxs)(ui_form.eI,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-3",children:[(0,jsx_runtime.jsx)(ui_form.MJ,{children:(0,jsx_runtime.jsx)(Checkbox,{checked:null===(_field_value=field.value)||void 0===_field_value?void 0:_field_value.includes(type),onCheckedChange:checked=>{var _field_value;return checked?field.onChange([...field.value,type]):field.onChange(null===(_field_value=field.value)||void 0===_field_value?void 0:_field_value.filter(value=>value!==type))}})}),(0,jsx_runtime.jsxs)("div",{className:"space-y-1 leading-none",children:[(0,jsx_runtime.jsx)(ui_form.lR,{className:"text-sm font-medium",children:type}),(0,jsx_runtime.jsx)(ui_form.Rr,{className:"text-xs",children:webhook_utils.vF[type].description})]})]},type)}},type))})]},category.id)),(0,jsx_runtime.jsx)(ui_form.C5,{})]})})]}),(0,jsx_runtime.jsxs)(card.wL,{className:"flex justify-between px-0",children:[(0,jsx_runtime.jsx)(ui_button.$,{type:"button",variant:"outline",onClick:async()=>{if(null==webhook?void 0:webhook.id)try{setTestingWebhook(!0),await(0,webhook_service.oj)(webhook.id),sonner_dist.oR.success("Test webhook sent successfully")}catch(error){console.error("Error testing webhook:",error),sonner_dist.oR.error("Failed to send test webhook")}finally{setTestingWebhook(!1)}else sonner_dist.oR.error("You must save the webhook before testing it")},disabled:!isEditMode||testingWebhook||isSubmitting,children:testingWebhook?"Sending...":"Test Webhook"}),(0,jsx_runtime.jsx)(ui_button.$,{type:"submit",disabled:isSubmitting,children:isSubmitting?isEditMode?"Updating...":"Creating...":isEditMode?"Update Webhook":"Create Webhook"})]})]})})})]})},webhooks_WebhookForm=WebhookForm;WebhookForm.__docgenInfo={description:"",methods:[],displayName:"WebhookForm",props:{webhook:{required:!1,tsType:{name:"MerchantWebhook"},description:""},onSuccess:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var WebhookForm_stories_console=__webpack_require__("./node_modules/console-browserify/index.js");const WebhookForm_stories={title:"Webhooks/WebhookForm",component:webhooks_WebhookForm,parameters:{layout:"centered"},tags:["autodocs"]},onSuccess=()=>{WebhookForm_stories_console.log("Form submitted successfully")},Create={args:{onSuccess}},Edit={args:{webhook:{id:"wh_123456789",merchantId:"mer_123456789",url:"https://example.com/webhook",isActive:!0,secretKey:"whsec_1234567890••••••••••••••••••••••••••",eventTypes:[webhook_types._.PAYMENT_SUCCEEDED,webhook_types._.PAYMENT_FAILED],maxRetries:5,initialRetryDelay:1e4,maxRetryDelay:3e5,createdAt:new Date("2023-01-01T00:00:00Z"),updatedAt:new Date("2023-01-02T00:00:00Z")},onSuccess}},WithValidationErrors={args:{onSuccess},play:async({canvasElement})=>{const canvas=(0,dist.ux)(canvasElement),urlInput=canvas.getByPlaceholderText("https://example.com/webhook");await dist.Q4.type(urlInput,"http://invalid-url");const submitButton=canvas.getByText("Create Webhook");await dist.Q4.click(submitButton)}},__namedExportsOrder=["Create","Edit","WithValidationErrors"];Create.parameters={...Create.parameters,docs:{...Create.parameters?.docs,source:{originalSource:"{\n  args: {\n    onSuccess\n  }\n}",...Create.parameters?.docs?.source}}},Edit.parameters={...Edit.parameters,docs:{...Edit.parameters?.docs,source:{originalSource:"{\n  args: {\n    webhook: {\n      id: 'wh_123456789',\n      merchantId: 'mer_123456789',\n      url: 'https://example.com/webhook',\n      isActive: true,\n      secretKey: 'whsec_1234567890••••••••••••••••••••••••••',\n      eventTypes: [WebhookEventType.PAYMENT_SUCCEEDED, WebhookEventType.PAYMENT_FAILED],\n      maxRetries: 5,\n      initialRetryDelay: 10000,\n      maxRetryDelay: 300000,\n      createdAt: new Date('2023-01-01T00:00:00Z'),\n      updatedAt: new Date('2023-01-02T00:00:00Z')\n    },\n    onSuccess\n  }\n}",...Edit.parameters?.docs?.source}}},WithValidationErrors.parameters={...WithValidationErrors.parameters,docs:{...WithValidationErrors.parameters?.docs,source:{originalSource:"{\n  args: {\n    onSuccess\n  },\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n\n    // Fill in invalid URL\n    const urlInput = canvas.getByPlaceholderText('https://example.com/webhook');\n    await userEvent.type(urlInput, 'http://invalid-url');\n\n    // Try to submit the form\n    const submitButton = canvas.getByText('Create Webhook');\n    await userEvent.click(submitButton);\n  }\n}",...WithValidationErrors.parameters?.docs?.source}}}},"./src/utils/webhook-utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var crypto__WEBPACK_IMPORTED_MODULE_1___namespace_cache;__webpack_require__.d(__webpack_exports__,{Bq:()=>generateSecretKey,Jt:()=>getEventTypesByCategory,ML:()=>EVENT_CATEGORIES,Nl:()=>isValidWebhookUrl,Vy:()=>calculateNextRetryTime,vF:()=>EVENT_TYPE_INFO});var _types_webhook_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/types/webhook-types.ts"),crypto__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/crypto-browserify/index.js");const EVENT_TYPE_INFO={[_types_webhook_types__WEBPACK_IMPORTED_MODULE_0__._.PAYMENT_SUCCEEDED]:{type:_types_webhook_types__WEBPACK_IMPORTED_MODULE_0__._.PAYMENT_SUCCEEDED,description:"Triggered when a payment is successfully processed",category:"Payment",samplePayload:{id:"pmt_123456789",amount:1e3,currency:"USD",status:"succeeded",created:(new Date).toISOString(),customer_id:"cus_87654321",payment_method:"card"}},[_types_webhook_types__WEBPACK_IMPORTED_MODULE_0__._.PAYMENT_FAILED]:{type:_types_webhook_types__WEBPACK_IMPORTED_MODULE_0__._.PAYMENT_FAILED,description:"Triggered when a payment attempt fails",category:"Payment",samplePayload:{id:"pmt_123456789",amount:1e3,currency:"USD",status:"failed",created:(new Date).toISOString(),customer_id:"cus_87654321",payment_method:"card",error:{code:"card_declined",message:"Card was declined",decline_code:"insufficient_funds"}}},[_types_webhook_types__WEBPACK_IMPORTED_MODULE_0__._.PAYMENT_REFUNDED]:{type:_types_webhook_types__WEBPACK_IMPORTED_MODULE_0__._.PAYMENT_REFUNDED,description:"Triggered when a payment is refunded",category:"Payment",samplePayload:{id:"pmt_123456789",amount:1e3,currency:"USD",status:"refunded",refund_amount:1e3,created:(new Date).toISOString(),customer_id:"cus_87654321",payment_method:"card"}},[_types_webhook_types__WEBPACK_IMPORTED_MODULE_0__._.PAYMENT_PENDING]:{type:_types_webhook_types__WEBPACK_IMPORTED_MODULE_0__._.PAYMENT_PENDING,description:"Triggered when a payment is pending additional action or processing",category:"Payment",samplePayload:{id:"pmt_123456789",amount:1e3,currency:"USD",status:"pending",created:(new Date).toISOString(),customer_id:"cus_87654321",payment_method:"bank_transfer",pending_reason:"bank_transfer_waiting"}},[_types_webhook_types__WEBPACK_IMPORTED_MODULE_0__._.ACCOUNT_CREATED]:{type:_types_webhook_types__WEBPACK_IMPORTED_MODULE_0__._.ACCOUNT_CREATED,description:"Triggered when a new account is created",category:"Account",samplePayload:{id:"acc_123456789",name:"Merchant Name",email:"merchant@example.com",created:(new Date).toISOString(),status:"active"}},[_types_webhook_types__WEBPACK_IMPORTED_MODULE_0__._.ACCOUNT_UPDATED]:{type:_types_webhook_types__WEBPACK_IMPORTED_MODULE_0__._.ACCOUNT_UPDATED,description:"Triggered when account details are updated",category:"Account",samplePayload:{id:"acc_123456789",name:"Updated Merchant Name",email:"updated@example.com",updated:(new Date).toISOString(),status:"active",previous_values:{name:"Merchant Name",email:"merchant@example.com"}}},[_types_webhook_types__WEBPACK_IMPORTED_MODULE_0__._.TEST_WEBHOOK]:{type:_types_webhook_types__WEBPACK_IMPORTED_MODULE_0__._.TEST_WEBHOOK,description:"A test webhook event for testing webhook delivery",category:"Test",samplePayload:{id:"evt_test_12345",test:!0,created:(new Date).toISOString(),message:"This is a test webhook event"}}},EVENT_CATEGORIES=[{id:"payment",name:"Payment"},{id:"account",name:"Account"},{id:"test",name:"Test"}],getEventTypesByCategory=category=>Object.values(_types_webhook_types__WEBPACK_IMPORTED_MODULE_0__._).filter(eventType=>EVENT_TYPE_INFO[eventType].category.toLowerCase()===category.toLowerCase()),generateSecretKey=()=>{const characters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let result="";const randomValues=new Uint8Array(32);if(window.crypto)window.crypto.getRandomValues(randomValues);else if(void 0!==(crypto__WEBPACK_IMPORTED_MODULE_1___namespace_cache||(crypto__WEBPACK_IMPORTED_MODULE_1___namespace_cache=__webpack_require__.t(crypto__WEBPACK_IMPORTED_MODULE_1__,2))))try{var _crypto_webcrypto_getRandomValues,_crypto_webcrypto;null===(_crypto_webcrypto=crypto__WEBPACK_IMPORTED_MODULE_1__.webcrypto)||void 0===_crypto_webcrypto||null===(_crypto_webcrypto_getRandomValues=_crypto_webcrypto.getRandomValues)||void 0===_crypto_webcrypto_getRandomValues||_crypto_webcrypto_getRandomValues.call(_crypto_webcrypto,randomValues)}catch(e){for(let i=0;i<32;i++)randomValues[i]=Math.floor(256*Math.random())}else for(let i=0;i<32;i++)randomValues[i]=Math.floor(256*Math.random());for(let i=0;i<32;i++)result+=characters.charAt(randomValues[i]%62);return result},calculateNextRetryTime=(attemptsMade,initialRetryDelay,maxRetryDelay)=>Math.min(maxRetryDelay,initialRetryDelay*Math.pow(2,attemptsMade)),isValidWebhookUrl=url=>{try{return"https:"===new URL(url).protocol}catch(e){return!1}}},"?0aec":()=>{},"?1e44":()=>{},"?3fc0":()=>{},"?4068":()=>{},"?4f7e":()=>{},"?593c":()=>{},"?7bec":()=>{},"?802b":()=>{},"?8131":()=>{},"?cad2":()=>{},"?d546":()=>{},"?e7e4":()=>{},"?fbf1":()=>{}}]);
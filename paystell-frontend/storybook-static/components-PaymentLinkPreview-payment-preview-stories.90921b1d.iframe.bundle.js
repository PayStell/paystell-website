(self.webpackChunkpaystell_frontend=self.webpackChunkpaystell_frontend||[]).push([[3460],{"./src/components/PaymentLinkPreview/payment-preview.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,DifferentProduct:()=>DifferentProduct,HigherPrice:()=>HigherPrice,MoreFeatures:()=>MoreFeatures,WithImage:()=>WithImage,__namedExportsOrder:()=>__namedExportsOrder,default:()=>payment_preview_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),next_image=__webpack_require__("./node_modules/@storybook/nextjs/dist/images/next-image.mjs"),next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),fa=__webpack_require__("__barrel_optimize__?names=FaArrowDown,FaArrowUp!=!./node_modules/react-icons/fa/index.mjs"),lib=__webpack_require__("./node_modules/react-icons/lib/index.mjs");function CgSpinner(props){return(0,lib.k5)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{opacity:"0.2",fillRule:"evenodd",clipRule:"evenodd",d:"M12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19ZM12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M2 12C2 6.47715 6.47715 2 12 2V5C8.13401 5 5 8.13401 5 12H2Z",fill:"currentColor"},child:[]}]})(props)}var ui_button=__webpack_require__("./src/components/ui/button.tsx"),success_message=__webpack_require__("./src/components/PaymentLinkPreview/success-message.tsx"),stellar_service=__webpack_require__("./src/lib/wallet/stellar-service.ts"),wallet_store=__webpack_require__("./src/lib/wallet/wallet-store.ts"),console=__webpack_require__("./node_modules/console-browserify/index.js");function PaymentPreview({product}){const[isLoading,setIsLoading]=(0,react.useState)(!1),[isSuccess,setIsSuccess]=(0,react.useState)(!1),[error,setError]=(0,react.useState)(null),{isConnected,publicKey,connectWallet,signTransaction}=(0,wallet_store.G)(),total=product.price+product.serviceFee;return(0,jsx_runtime.jsx)("div",{className:"w-full max-w-md border border-gray-200 rounded-lg p-6",children:isSuccess?(0,jsx_runtime.jsx)(success_message.n,{productName:product.name}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("h1",{className:"text-2xl font-bold text-center mb-6",children:"Complete Your Purchase"}),(0,jsx_runtime.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,jsx_runtime.jsx)("div",{className:"w-28 h-28 p-4 flex-shrink-0 rounded",children:(0,jsx_runtime.jsx)(next_image.A,{src:product.imageUrl||"/favicon.ico",alt:product.name,width:112,height:112,className:"object-cover w-full h-full rounded"})}),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:product.name}),(0,jsx_runtime.jsxs)("p",{className:"text-gray-400",children:["SKU: ",product.sku]}),(0,jsx_runtime.jsxs)("p",{className:"text-lg font-medium mt-1",children:["$",product.price.toFixed(2)]})]})]}),(0,jsx_runtime.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md mb-6",children:[(0,jsx_runtime.jsx)("h3",{className:"text-gray-700 font-medium mb-2",children:"Product Features:"}),(0,jsx_runtime.jsx)("ul",{className:"space-y-2",children:product.features.map((feature,index)=>(0,jsx_runtime.jsxs)("li",{className:"flex items-center",children:[(0,jsx_runtime.jsx)(fa.CMH,{className:"h-5 w-5 text-green-500 mr-2"}),(0,jsx_runtime.jsx)("span",{className:"text-gray-600",children:feature})]},index))})]}),(0,jsx_runtime.jsxs)("div",{className:"border-t border-gray-200 pt-4 mb-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,jsx_runtime.jsx)("span",{className:"text-gray-700",children:"Subtotal"}),(0,jsx_runtime.jsxs)("span",{className:"text-gray-700",children:["$",product.price.toFixed(2)]})]}),(0,jsx_runtime.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,jsx_runtime.jsx)("span",{className:"text-gray-700",children:"Service fee"}),(0,jsx_runtime.jsxs)("span",{className:"text-gray-700",children:["$",product.serviceFee.toFixed(2)]})]}),(0,jsx_runtime.jsxs)("div",{className:"flex justify-between font-bold text-lg mt-4",children:[(0,jsx_runtime.jsx)("span",{children:"Total"}),(0,jsx_runtime.jsxs)("span",{children:["$",total.toFixed(2)]})]})]}),isConnected?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 rounded-md",children:[(0,jsx_runtime.jsx)("p",{className:"text-sm text-gray-600",children:"Paying with wallet:"}),(0,jsx_runtime.jsx)("p",{className:"font-mono text-sm break-all",children:publicKey})]}),(0,jsx_runtime.jsx)(ui_button.$,{className:"w-full h-14 text-lg bg-blue-500 hover:bg-blue-600 mb-2",onClick:async()=>{if(isConnected&&publicKey)if(product.merchantWalletAddress&&56===product.merchantWalletAddress.length){setIsLoading(!0),setError(null);try{const{transaction:xdr,network_passphrase}=await(0,stellar_service.vi)({source:publicKey,destination:product.merchantWalletAddress,amount:total.toString(),memo:`Payment for ${product.sku}`}),signedXdr=await signTransaction(xdr,{networkPassphrase:network_passphrase}),response=await fetch("/api/stellar/payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({signedTransaction:signedXdr,productId:product.sku,amount:total})}),result=await response.json();if(!response.ok)throw new Error(result.message||"Payment failed");setIsSuccess(!0)}catch(err){console.error("Payment error:",err),setError(err instanceof Error?err.message:"Payment failed")}finally{setIsLoading(!1)}}else setError("Invalid merchant wallet address");else setError("Please connect your wallet first")},disabled:isLoading,children:isLoading?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(CgSpinner,{className:"mr-2 h-5 w-5 animate-spin"})," Processing..."]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(fa.x1c,{className:"mr-2 h-5 w-5"})," Pay $",total.toFixed(2)]})})]}):(0,jsx_runtime.jsx)(ui_button.$,{className:"w-full h-14 text-lg bg-blue-500 hover:bg-blue-600 mb-2",onClick:connectWallet,children:"Connect Stellar Wallet"}),error&&(0,jsx_runtime.jsx)("div",{className:"text-red-500 text-sm mb-4 text-center",children:error}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-center text-gray-500 text-sm mb-6",children:[(0,jsx_runtime.jsx)(fa.JhU,{className:"h-4 w-4 mr-1"})," Secure payment powered by PayStell"]}),(0,jsx_runtime.jsxs)("div",{className:"text-center text-gray-500 text-sm",children:["By completing this purchase, you agree to our"," ",(0,jsx_runtime.jsx)(link_default(),{href:"/terms",className:"text-gray-500 hover:text-gray-700",children:"Terms of Service"})," ","and"," ",(0,jsx_runtime.jsx)(link_default(),{href:"/privacy",className:"text-gray-500 hover:text-gray-700",children:"Privacy Policy"}),"."]})]})})}PaymentPreview.__docgenInfo={description:"",methods:[],displayName:"PaymentPreview",props:{product:{required:!0,tsType:{name:"ProductData"},description:""}}};const payment_preview_stories={title:"Checkout/PaymentPreview",component:PaymentPreview,parameters:{layout:"centered"},tags:["autodocs"]},Default={args:{product:{name:"Premium Wireless Headphones",sku:"SKU-WH-PRO-2023",price:79.99,serviceFee:10,features:["Noise cancellation technology","40-hour battery life","Premium sound quality","1-year warranty"],merchantWalletAddress:"GCKFBEIYV2U22IO2BJ4KVJOIP7XPWQGQFKKWXR6DOSJBV7STMAQSMTMA"}}},WithImage={args:{product:{name:"Premium Wireless Headphones",sku:"SKU-WH-PRO-2023",price:79.99,serviceFee:10,imageUrl:"/placeholder.svg?height=112&width=112",features:["Noise cancellation technology","40-hour battery life","Premium sound quality","1-year warranty"],merchantWalletAddress:"GABC1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ"}}},HigherPrice={args:{product:{name:"Premium Wireless Headphones",sku:"SKU-WH-PRO-2023",price:149.99,serviceFee:15,features:["Noise cancellation technology","40-hour battery life","Premium sound quality","1-year warranty"],merchantWalletAddress:"GABC1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ"}}},MoreFeatures={args:{product:{name:"Premium Wireless Headphones",sku:"SKU-WH-PRO-2023",price:79.99,serviceFee:10,features:["Noise cancellation technology","40-hour battery life","Premium sound quality","1-year warranty","Water resistant","Voice assistant compatible","Touch controls"],merchantWalletAddress:"GABC1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ"}}},DifferentProduct={args:{product:{name:"Smart Fitness Watch",sku:"SKU-FW-PRO-2023",price:129.99,serviceFee:12,features:["Heart rate monitoring","7-day battery life","Water resistant","Sleep tracking","GPS tracking"],merchantWalletAddress:"GABC1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ"}}},__namedExportsOrder=["Default","WithImage","HigherPrice","MoreFeatures","DifferentProduct"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    product: {\n      name: 'Premium Wireless Headphones',\n      sku: 'SKU-WH-PRO-2023',\n      price: 79.99,\n      serviceFee: 10.0,\n      features: ['Noise cancellation technology', '40-hour battery life', 'Premium sound quality', '1-year warranty'],\n      merchantWalletAddress: 'GCKFBEIYV2U22IO2BJ4KVJOIP7XPWQGQFKKWXR6DOSJBV7STMAQSMTMA'\n    }\n  }\n}",...Default.parameters?.docs?.source}}},WithImage.parameters={...WithImage.parameters,docs:{...WithImage.parameters?.docs,source:{originalSource:"{\n  args: {\n    product: {\n      name: 'Premium Wireless Headphones',\n      sku: 'SKU-WH-PRO-2023',\n      price: 79.99,\n      serviceFee: 10.0,\n      imageUrl: '/placeholder.svg?height=112&width=112',\n      features: ['Noise cancellation technology', '40-hour battery life', 'Premium sound quality', '1-year warranty'],\n      merchantWalletAddress: 'GABC1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n    }\n  }\n}",...WithImage.parameters?.docs?.source}}},HigherPrice.parameters={...HigherPrice.parameters,docs:{...HigherPrice.parameters?.docs,source:{originalSource:"{\n  args: {\n    product: {\n      name: 'Premium Wireless Headphones',\n      sku: 'SKU-WH-PRO-2023',\n      price: 149.99,\n      serviceFee: 15.0,\n      features: ['Noise cancellation technology', '40-hour battery life', 'Premium sound quality', '1-year warranty'],\n      merchantWalletAddress: 'GABC1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n    }\n  }\n}",...HigherPrice.parameters?.docs?.source}}},MoreFeatures.parameters={...MoreFeatures.parameters,docs:{...MoreFeatures.parameters?.docs,source:{originalSource:"{\n  args: {\n    product: {\n      name: 'Premium Wireless Headphones',\n      sku: 'SKU-WH-PRO-2023',\n      price: 79.99,\n      serviceFee: 10.0,\n      features: ['Noise cancellation technology', '40-hour battery life', 'Premium sound quality', '1-year warranty', 'Water resistant', 'Voice assistant compatible', 'Touch controls'],\n      merchantWalletAddress: 'GABC1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n    }\n  }\n}",...MoreFeatures.parameters?.docs?.source}}},DifferentProduct.parameters={...DifferentProduct.parameters,docs:{...DifferentProduct.parameters?.docs,source:{originalSource:"{\n  args: {\n    product: {\n      name: 'Smart Fitness Watch',\n      sku: 'SKU-FW-PRO-2023',\n      price: 129.99,\n      serviceFee: 12.0,\n      features: ['Heart rate monitoring', '7-day battery life', 'Water resistant', 'Sleep tracking', 'GPS tracking'],\n      merchantWalletAddress: 'GABC1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n    }\n  }\n}",...DifferentProduct.parameters?.docs?.source}}}},"./src/components/PaymentLinkPreview/success-message.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{n:()=>SuccessMessage});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_barrel_optimize_names_MdCheckCircle_react_icons_md__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("__barrel_optimize__?names=MdCheckCircle!=!./node_modules/react-icons/md/index.mjs");function SuccessMessage({productName}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"text-center py-8",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex justify-center mb-4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_MdCheckCircle_react_icons_md__WEBPACK_IMPORTED_MODULE_1__.mU9,{className:"h-16 w-16 text-green-500"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Payment Successful!"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"text-gray-600 mb-4",children:["Thank you for purchasing ",productName]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-gray-500 text-sm",children:"A receipt has been sent to your email."})]})}SuccessMessage.__docgenInfo={description:"",methods:[],displayName:"SuccessMessage",props:{productName:{required:!0,tsType:{name:"string"},description:""}}}},"./src/components/ui/button.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>Button,r:()=>buttonVariants});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@radix-ui/react-slot/dist/index.mjs"),class_variance_authority__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs"),_lib_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/lib/utils.ts");const buttonVariants=(0,class_variance_authority__WEBPACK_IMPORTED_MODULE_3__.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 my-1",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border  border-border bg-transparent text-foreground shadow-sm hover:bg-secondary hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",xl:"h-12 rounded-md px-10",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Button=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({className,variant,size,asChild=!1,...props},ref)=>{const Comp=asChild?_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_2__.DX:"button";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Comp,{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(buttonVariants({variant,size,className})),ref,...props})});Button.displayName="Button",Button.__docgenInfo={description:"",methods:[],displayName:"Button",props:{asChild:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}},composes:["VariantProps"]}},"./src/lib/wallet/stellar-service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E8:()=>server,VJ:()=>fetchAccountBalances,r1:()=>fetchPaymentOperations,vi:()=>createPaymentTransaction});var _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@stellar/stellar-sdk/dist/stellar-sdk.min.js"),console=__webpack_require__("./node_modules/console-browserify/index.js");const server=new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Horizon.Server("https://horizon-testnet.stellar.org"),networkPassphrase=_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Networks.TESTNET,fetchAccountBalances=async publicKey=>{try{return(await server.loadAccount(publicKey)).balances}catch(error){throw console.error("Error fetching account balances:",error),new Error("Failed to fetch account balances")}},fetchPaymentOperations=async(publicKey,cursor=null,limit=20)=>{try{let builder=server.payments().forAccount(publicKey).limit(limit).order("desc").join("transactions");cursor&&(builder=builder.cursor(cursor));const response=await builder.call();return{records:response.records,next:response.records.length>0?response.records[response.records.length-1].paging_token:null,prev:response.records.length>0?response.records[0].paging_token:null}}catch(error){throw console.error("Error fetching payment operations:",error),new Error("Failed to fetch payment operations")}},createPaymentTransaction=async({source,destination,amount,memo=""})=>{try{const sourceAccount=await server.loadAccount(source),transaction=new _stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.TransactionBuilder(sourceAccount,{networkPassphrase,fee:"100000"});memo&&transaction.addMemo(_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Memo.text(memo)),transaction.addOperation(_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Operation.payment({destination,asset:_stellar_stellar_sdk__WEBPACK_IMPORTED_MODULE_0__.Asset.native(),amount:amount.toString()}));return{transaction:transaction.setTimeout(300).build().toXDR(),network_passphrase:networkPassphrase}}catch(error){throw console.error("Error creating payment transaction:",error),error}}},"./src/lib/wallet/wallet-store.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{G:()=>useWalletStore});var zustand__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zustand/esm/react.mjs"),_creit_tech_stellar_wallets_kit__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@creit.tech/stellar-wallets-kit/index.mjs"),console=__webpack_require__("./node_modules/console-browserify/index.js");let kit=null;kit=new _creit_tech_stellar_wallets_kit__WEBPACK_IMPORTED_MODULE_1__.Yh({modules:(0,_creit_tech_stellar_wallets_kit__WEBPACK_IMPORTED_MODULE_1__.Q0)(),network:_creit_tech_stellar_wallets_kit__WEBPACK_IMPORTED_MODULE_1__.My.TESTNET,selectedWalletId:function getSelectedWalletId(){return localStorage.getItem("selectedWalletId")||_creit_tech_stellar_wallets_kit__WEBPACK_IMPORTED_MODULE_1__.le}()||_creit_tech_stellar_wallets_kit__WEBPACK_IMPORTED_MODULE_1__.le});const useWalletStore=(0,zustand__WEBPACK_IMPORTED_MODULE_0__.v)((set,get)=>({isConnected:!1,publicKey:null,networkType:"TESTNET",error:null,connecting:!1,connectWallet:async()=>{if(kit){set({connecting:!0});try{await kit.openModal({onWalletSelected:async option=>{try{localStorage.setItem("selectedWalletId",option.id),null==kit||kit.setWallet(option.id);const{address}=await kit.getAddress();address&&(set({isConnected:!0,publicKey:address,error:null,connecting:!1}),localStorage.setItem("stellar_wallet_connected","true"),localStorage.setItem("stellar_wallet_public_key",address))}catch(error){console.error("Wallet connection error:",error),error instanceof Error?set({isConnected:!1,publicKey:null,error:error.message||"Failed to connect wallet",connecting:!1}):set({isConnected:!1,publicKey:null,error:"An unknown error occurred while connecting the wallet",connecting:!1})}return option.id}}).finally(()=>set({connecting:!1}))}catch(error){console.error("Wallet connection error:",error),set({isConnected:!1,publicKey:null,error:error instanceof Error?error.message:"Failed to connect wallet",connecting:!1})}}},disconnectWallet:async()=>{if(kit)try{kit.disconnect(),localStorage.removeItem("selectedWalletId"),localStorage.removeItem("stellar_wallet_connected"),localStorage.removeItem("stellar_wallet_public_key"),set({isConnected:!1,publicKey:null,error:null,connecting:!1})}catch(error){console.error("Wallet disconnection error:",error),set({error:error instanceof Error?error.message:"Failed to disconnect wallet",connecting:!1})}},signTransaction:async(transactionXDR,opts={})=>{if(!kit)throw new Error("Wallet kit not initialized");if(!get().isConnected||!get().publicKey)throw new Error("Wallet not connected");try{const{signedTxXdr}=await kit.signTransaction(transactionXDR,{address:get().publicKey,networkPassphrase:opts.networkPassphrase||"Test SDF Network ; September 2015"});return signedTxXdr}catch(error){throw console.error("Transaction signing error:",error),new Error(error instanceof Error?error.message:"Failed to sign transaction")}}}));{const isConnected="true"===localStorage.getItem("stellar_wallet_connected"),publicKey=localStorage.getItem("stellar_wallet_public_key");isConnected&&publicKey&&useWalletStore.setState({isConnected:!0,publicKey})}},"?3fc0":()=>{},"?69d9":()=>{},"?7bec":()=>{},"?abf2":()=>{},"?dba7":()=>{}}]);